<link rel="import" href="../../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../elements/disaggregations/disaggregation-table.html">

<dom-module id="edit-disaggregation-table">
  <template>
    <style>
      :host {
        display:block;
      }
    </style>
    <disaggregation-table
      total=[[item.total]]
      data=[[data]]
      mapping=[[mapping]]
      class="fullWidth"
      editable>
    </disaggregation-table>
  </template>

  <script>
    Polymer({
      is: 'edit-disaggregation-table',

      behaviors: [
        App.Behaviors.ReduxBehavior,
      ],

      properties: {
        data: {
          type: Object,
          value: {}
        },
        mapping: {
          type: Object,
          value: {}
        },
        item: {
          type: Object,
          value: {}
        },
      },

      listeners: {
        'field-changed': '_onFieldChanged',
      },
      _onFieldChanged: function(e){
        console.log(e.detail);
      },
      attached: function(){
        console.log('set this data in state with indicator ' + this.item.id + ' and location data ' + this.data.id)
      }
    })
  </script>
</dom-module>
